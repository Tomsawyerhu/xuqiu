# 需求规格说明书

[toc]

胡海川 181250046
刘瑞麒 181250087
黄雨晨 181250052
陈思文 181250013
2021年1月16日



## 摘要

## 1.引言

### 1.1 目的

### 1.2 范围

### 1.3 定义、首字母缩写和缩略词

### 1.4 参考文献

## 2.总体描述

### 2.1 项目前景

### 2.2 商品功能

### 2.3 用户特征

### 2.4 约束

### 2.5 假设与约束

## 3.详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面

#### 3.1.2 软件接口

#### 3.1.3 硬件接口

#### 3.1.4 通信接口

### 3.2 功能需求

#### 3.2.1 音频播放

特征描述 ： 音频播放是本平台的基本功能之一，用户在选中特定的歌曲后，系统会按照正常速率进行音频播放。

刺激/响应序列

+ 刺激：用户选择特定的歌曲
+ 响应：系统将选定音频按照正常速率进行播放，并且记录用户的听歌信息
+ 刺激：用户选择查看音频具体信息
+ 响应：系统展示音频具体信息
+ 刺激：用户选择特殊播放形式，包括调整速率等

相关功能需求

|||
|:---|:---|
|Broadcast.play|系统播放音频|
|Broadcast.record|系统记录用户播放信息|
|Broadcast.next|用户选择下一首音频|
|Broadcast.modify|系统调整音频播放状态|

#### 3.2.2 获取推荐

特征描述 ： 获取推荐是系统的核心功能之一，用户要求音乐推送时，系统根据用户的历史偏好信息，播放下一首音乐

刺激/响应序列
+ 刺激：用户进入音乐推送模块
+ 响应：系统提供初始推送结果
+ 刺激：用户要求推送新的音频
+ 响应：系统返回推荐结果
+ 刺激：用户返回播放界面
+ 响应：系统进入音频播放状态

相关功能需求

|||
|:---|:---|
|Recommend.init|系统提供初始推荐结果|
|Recommend.new|用户要求推送新的音频，系统依据用户的历史偏好信息进行音频推荐|
|Recommend.back|系统返回播放界面|

#### 3.2.3 评价音频

特征描述 ： 用户在使用系统的过程中，可以对所听过的音频进行评价或评论。

刺激/响应序列
+ 刺激：用户选择查看评论
+ 响应：系统呈现历史评论
+ 刺激：用户要求进行评论
+ 响应：系统将用户的评论添加至后台

相关功能需求

|||
|:---|:---|
|Comment.history|系统呈现历史评论|
|Comment.add|用户要求进行评论后，系统将用户的评论添加到数据库|

#### 3.2.4 嗓音分析

特征描述 ： 嗓音分析是本系统的核心功能之一，用户在提供声音样本后，系统反馈声音分析结果，更新用户音色信息。

刺激/响应序列
+ 刺激：用户启用录制音频
+ 响应：系统记录音频进行分析
+ 刺激：用户上传本地音频作品
+ 响应：系统对上传的音频进行嗓音分析
+ 刺激：用户要求查看嗓音分析报告
+ 响应：系统提供嗓音分析报告

相关功能需求

|||
|:---|:---|
|Analysis.getVoice|用户提供录音，系统获取音频|
|Analysis.do|系统进行音频分析|
|Analysis.output|系统生成嗓音分析报告|

#### 3.2.5 智能调音

特征描述 ：智能调音是本系统的核心功能之一，用户在提供需调音音频后，系统返回智能调音后音频。

刺激/响应序列
+ 刺激：用户根据系统提供的智能调音方案设置参数
+ 响应：系统根据新的参数处理并保存视频
+ 刺激：用户要求对修改后的音频进行试听
+ 响应：系统播放音频
+ 刺激：用户要求保存最终版本的音频
+ 响应：系统保存音频，记录所用智能调音方案并返回

相关功能需求

|||
|:---|:---|
|Automodify.set|用户设置智能调音方案的参数，系统进行设置|
|Automodify.do|系统依据设置的参数对音频进行处理|
|Automodify.save|系统保存调音结束的音频，记录所用智能调音方案并返回|
|Automodify.output|用户要求试听，系统对调音结束的音频进行播放|

#### 3.2.6 手动调音

特征描述 ：手动调音是本系统的核心功能之一，用户在提供需调音音频后，手动进行调音，系统保存调音后的音频。

刺激/响应序列
+ 刺激：用户要求进行手动调音
+ 响应：系统进入手动调音界面
+ 刺激：用户进行设置参数
+ 响应：系统根据新的参数处理并保存视频
+ 刺激：用户要求对修改后的音频进行试听
+ 响应：系统播放音频
+ 刺激：用户要求保存最终版本的音频
+ 响应：系统保存音频，记录所用手动调音方案并返回

相关功能需求

|||
|:---|:---|
|Manuelmodify.set|用户设置手动调音方案的参数，系统进行设置|
|Manuelmodify.do|系统依据设置的参数对音频进行处理|
|Manuelmodify.save|系统保存调音结束的音频，保存参数设置|
|Manuelmodify.output|用户要求试听，系统对调音结束的音频进行播放|

#### 3.2.7 音频发布

特征描述 ： 音频发布是本系统的基本功能之一，用户申请进行音频发布，系统在进行审核后进行发布。

刺激/响应序列
+ 刺激：用户要求进行音频发布
+ 响应：系统进入音频上传界面
+ 刺激：用户进行音频上传
+ 响应：系统将上传的音频提供给管理员进行审核
+ 刺激：管理员通过审核
+ 响应：系统提示发布成功

相关功能需求

|||
|:---|:---|
|release.upload|用户进行音频上传，系统进行暂时保存|
|release.verify|系统将音频交付于管理员进行审核|
|release.success|系统将审核通过的音频上传到平台|
|release.fail|系统将未通过审核的音频退回|

#### 3.2.8 音频审核

特征描述 ： 音频审核是本系统的基本功能之一，用户提交待审核音频，为确保音频合法性与质量，管理员进行审核确定。

刺激/响应序列
+ 刺激：管理员等待下一条待审核音频
+ 响应：系统提供下一条待审核音频
+ 刺激：管理员审核音频并同意发布
+ 响应：系统进行音频发布并通知作者
+ 刺激：管理员审核音频并拒绝发布
+ 响应：系统退回音频并要求作者更改

相关功能需求

|||
|:---|:---|
|verify.get|管理员获取下一条待审核音频|
|verify.success|管理员审核音频并同意发布，系统进行音频发布并通知作者|
|verify.fail|管理员审核音频并拒绝发布，系统退回音频并要求作者更改|

#### 3.2.9 音频定制

特征描述 ：

刺激/响应序列
+
+
+
+

相关功能需求

|||
|:---|:---|
|||

#### 3.2.10 音频搜索

特征描述 ：

刺激/响应序列
+
+
+
+

相关功能需求

|||
|:---|:---|
|||

#### 3.2.11 IP认证

特征描述 ：

刺激/响应序列
+
+
+
+

相关功能需求

|||
|:---|:---|
|||

#### 3.2.12 报名参赛

特征描述 ：

刺激/响应序列
+
+
+
+

相关功能需求

|||
|:---|:---|
|||

#### 3.2.13 听众投票

特征描述 ：

刺激/响应序列
+
+
+
+

相关功能需求

|||
|:---|:---|
|||

#### 3.2.14 作品管理

特征描述 ：

刺激/响应序列
+
+
+
+

相关功能需求

|||
|:---|:---|
|||

### 3.3 非功能需求

### 3.4 数据需求

### 3.5 其他

## 4. 分析模型（按照功能需求写）
### 4.1 播放音乐
### 4.2 获取推荐
### 4.3 评价音频
### 4.4 噪音分析
### 4.5 智能调音
图x:智能调音的类图  
![](./图/类图-智能调音.png)
说明:该图包括音频提供者，音频，数据存储3个类和实体。

图x:智能调音的顺序图
![](./图/顺序图-智能调音.png)
说明:音频提供者根据系统提供的智能调音方案设置参数，系统根据新的参数处理并保存视频。音频提供者对修改后的音频进行试听，系统播放视频。音频提供者保存最终版本的音频，系统返回。

图x:智能调音的状态图
![](./图/状态图-智能调音.png)
说明:主要状态有就绪，修改，播放，保存。状态的顺序和顺序图一致。

### 4.6 手动调音
图x:手动调音的类图  
![](./图/类图-手动调音.png)
说明:该图包括音频提供者，音频，数据存储3个类和实体。

图x:手动调音的顺序图
![](./图/顺序图-手动调音.png)
说明:音频提供者对音频的参数进行调节，系统根据新的参数处理并保存视频。音频提供者对修改后的音频进行试听，系统播放视频。音频提供者保存最终版本的音频，系统返回。音频提供者可保存之前的参数配置，系统生成一键调音方案。

图x:手动调音的状态图
![](./图/状态图-手动调音.png)
说明:主要状态有就绪，修改，播放，保存。状态的顺序和顺序图一致。

### 4.7 音频发布
图x:音频发布的类图  
![](./图/类图-音频发布.png)
说明:该图包括音频提供者，音频，管理员3个类和实体。

图x:音频发布的顺序图
![](./图/顺序图-音频发布.png)
说明:音频提供者上传视频后，管理员从系统中获取上传的视频并进行审核。审核通过则发布，否则通知音频提供者审核失败。

图x:音频发布的状态图
![](./图/状态图-音频发布.png)
说明:主要状态有就绪，待审核，可发布，不能发布。状态的顺序和顺序图一致。

### 4.8 音频审核
图x:音频审核的类图  
![](./图/类图-音频审核.png)
说明:该图包括管理员，音频，数据存储3个类和实体。管理员在审核音频通过后会对音频进行持久化。

图x:音频审核的顺序图
![](./图/顺序图-音频审核.png)
说明:管理员获取音频，系统返回下一条待审核音频。管理员审核通过，系统返回。

图x:音频审核的状态图
![](./图/状态图-音频审核.png)
说明:主要状态有就绪，待审核，审核结束。状态的顺序和顺序图一致。

### 4.9 音频定制
图x:音频定制的类图  
![](./图/类图-音频定制.png)
说明:该图包括用户，订单，主播，音频，数据存储5个类和实体。用户签署订单，主播决定是否接受用户的需求，如果接受则订单会被持久化。

图x:音频定制的顺序图
![](./图/顺序图-音频定制.png)
说明:用户提交需求，主播接受需求，产生订单；用户付款，订单生效；主播交付视频，用户收到。

图x:音频定制的状态图
![](./图/状态图-音频定制.png)
说明:主要状态有就绪，收到需求，订单生效，视频已交付。主播收到请求后可以拒绝也可以接受，接受则进入订单生效状态，拒绝则返回就绪状态等待新的需求。状态的顺序和顺序图一致。

### 4.10 音频搜索
图x:音频搜索的类图  
![](./图/类图-音频搜索.png)
说明:该图包括用户和音频2个类和实体。用户能够对音频进行搜索和排序操作。

图x:音频搜索的顺序图
![](./图/顺序图-音频搜索.png)
说明:用户进行条件搜索，系统返回音频列表；用户对音频列表进行排序，系统返回排序后的音频列表。

图x:音频搜索的状态图
![](./图/状态图-音频搜索.png)
说明:主要状态有就绪，搜索结果，排序结果。对搜索返回的结果按照关键字进行排序，返回排序后的结果。状态的顺序和顺序图一致。

### 4.11 IP认证
图x:IP认证的类图  
![](./图/类图-IP认证.png)
说明:该图包括IP提供商，企业信息表，管理员，数据存储4个类和实体。管理员在认证企业信息无误后进行持久化操作。

图x:IP认证的顺序图
![](./图/顺序图-IP认证.png)
说明:IP提供商提交企业信息表后，管理员获取企业信息并进行确认，系统返回确认结果，如果信息无误则进行数据的持久化。

图x:IP认证的状态图
![](./图/状态图-IP认证.png)
说明:主要状态有就绪，信息表审核，管理员同意。管理员同意后同时对信息进行持久化。状态的顺序和顺序图一致。

### 4.12 报名参赛
图x:报名参赛的类图  
![](./图/类图-报名参赛.png)
说明:该图包括音频提供者，奖金赛，信息表，数据存储4个类和实体。其中每个奖金赛对应一个报名信息表，音频提供者通过填写对应的信息表来进行报名参赛，报名成功后请求数据存储对象对报名结果进行持久化。

图x:报名参赛的顺序图
![](./图/顺序图-报名参赛.png)
说明:视频提供者进行报名，系统返回对应的报名表，视频提供者填写报名表并提交，系统返回报名结果。

图x:报名参赛的状态图
![](./图/状态图-报名参赛.png)
说明:主要状态有就绪，报名表填写，报名成功。报名成功的同时对报名结果进行持久化。状态的顺序和顺序图一致。

### 4.13 听众投票
图x:听众投票的类图  
![](./图/类图-听众投票.png)
说明:该图包括听众，参赛选手，奖金赛，音频，数据存储5个类和实体。其中每个参赛选手持有一个音频对象，每个奖金赛对象持有1或多个参赛选手对象。听众通过奖金赛对象的查看选手方法获取选手列表；听众在做出投票选择后，数据存储对象调用自身的更新投票纪录进行持久化。

图x:听众投票的顺序图
![](./图/顺序图-听众投票.png)
说明:听众在选择奖金赛后请求具体参赛选手信息，最后进行投票操作，系统对投票结果持久化并返回。

图x:听众投票的状态图
![](./图/状态图-听众投票.png)
说明:主要状态有就绪，奖金赛详情，参赛选手详情，提交结果，投票终止。进入奖金赛详情状态后，听众可以选择特定参赛选手进行查看，也可以进行投票操作，投票一旦提交并持久化后不能进行更改。状态的顺序和顺序图一致。

### 4.14 作品管理
图x:作品管理的类图  
![](./图/类图-音频管理.png)
说明:该图包括音频管理者，音频列表，音频和数据存储4个类和实体。其中音频和音频列表属于聚合关系，每个音频列表持有1个或多个音频对象。音频管理者记录对应的用户信息和权限，音频列表除了持有音频外，还包括数据条目的信息，并可以进行增删改查的操作；修改完成后通过请求数据存储实体进行持久化。

图x:作品管理的顺序图
![](./图/顺序图-音频管理.png)
说明:音频提供者在获取音频列表这一实体后，可在勾选音频列表中特定表项的基础上进行增删改查的请求，系统对请求结果进行持久化并返回。

图x:作品管理的状态图
![](./图/状态图-音频管理.png)
说明:主要状态有就绪，列表就绪，提交结果。列表就绪之后，音频提供者可以对列表进行增删改查的操作，然后提交到数据库中持久化存储。状态的顺序和顺序图一致。

## 5.跟踪矩阵

